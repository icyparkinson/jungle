<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jungle: Toy</title>

    <link rel = "stylesheet" href = "../src/css/styles.css">
    <link rel = "stylesheet" href = "../src/css/cart.css">
    <link rel="shortcut icon" href="#">
</head>
<body>
    <nav>
        <ul>
            <li class = "title"><a href="/">Jungle</a></li>
            <li>Deliver to YOU</li>
            <li>
                <input type = "text" class = "search" placeholder = "Search bar" list = "itemList" autocomplete="off">
                <datalist id = "itemList">
                    <option>Toy</option>
                    <option>Watch</option>
                    <option>Food</option>
                    <option>Clothes</option>
                </datalist>
            <!-- <li class = "mag"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" style="vertical-align: -0.125em;" width="1.5em" height="1.5em" preserveAspectRatio="xMidYMid meet" viewBox="0 -2 15 15"><path fill="currentColor" fill-rule="evenodd" d="M10 6.5a3.5 3.5 0 1 1-7 0a3.5 3.5 0 0 1 7 0Zm-.691 3.516a4.5 4.5 0 1 1 .707-.707l2.838 2.837a.5.5 0 0 1-.708.708L9.31 10.016Z" clip-rule="evenodd"/></svg></li> -->
            <li>Account</li>
            <li><a href = "/cart">Shopping Cart ( <%= shoppingCart === undefined ? 0 : shoppingCart %> )</a></li>
        </ul>
    </nav>


   
    <h1>Shopping Cart</h1>

    <section class = "container">
    
        

            <% let subtotal = 0 %>

            <% if (currentCart.length === 0){ %>
                <h2>Your shopping cart is empty</h2>
            <% } else{ %>
                <section class = "cartSide">
            <% for (let item of currentCart){ %>
                <section class = "liContainer">
                    <section class = "imgSide">
                        <a href =" <%= item.itemPage %> "><img src = "<%= item.itemPic %>" class = "cartImg"></a>
                    </section>
                    <section class = "descSide">
                        <h2><%= item.itemName %></h2>
                    
                        <p>Quantity: <input type = "number" min = 0 value = <%= item.itemCount %> >
                            <span class = "priceSpan">Price: <%= item.itemPrice %> each</span></p>
                        <button class = "upCart">Update Quantity</button>
                        <span class = "delete">Delete Item</span>
                    </section>
                </section>
                <% subtotal += (item.itemCount * item.itemPrice)%>
            <% } %> 

        </section>

        <section class = "checkoutSide">
            <h3>Subtotal (<%= shoppingCart === undefined ? 0 : shoppingCart %> items): $<%= (Math.floor(subtotal * 100) / 100).toFixed(2) %></h3> <!-- This math is done to help prevent rounding issue and keep 2 decimal places-->

            <button class = "emptyCart">Empty Cart</button>
            <span class = "disclaimer">Disclaimer: There is no option to checkout</span>

        </section>

            <% } %>
    
        
   </section>


    <script type = "text/javascript" src = "../src/js/main.js"> </script>

</body>
</html>